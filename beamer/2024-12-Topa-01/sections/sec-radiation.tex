% \input{\pSections "sec-radiation"}

\section{Radiation}

\begin{frame}{Energy Out, Energy In}
    \centering
    \includegraphics[ width = 0.7\textwidth ]{ \pLocalGraphics/energy-out.pdf } \\[1em]
    \includegraphics[ width = 0.7\textwidth ]{ \pLocalGraphics/energy-in.pdf } \\[1em]
   % \textit{\small Radar transmits energy outward (blue), receives scattered energy inward (red).}
\end{frame}

\begin{frame}{Energy Out, Energy In}
    	\begin{enumerate}
		\item radar (left) {\color{red}{irradiates}} target (star)
		\item {\color{blue}{backscatter}} travels from target to radar
	\end{enumerate}
\end{frame}


%     %     %     %     %     %     %     %     %
\subsection{Effective Radar Cross Section}

\begin{frame}\frametitle{Radar Cross Section: Definition}
	\begin{equation}
		\sigma_{\star} = 4\pi\lim\limits_{r\to\infty} r^{2} \left|\frac{\textcolor{red}{E_{\text{incident}}}}{\textcolor{blue}{E_{\text{scattered}}}}\right|^{2}
	\end{equation}
	\\[20pt]
	\cite[(2.36)]{skolnik1962introduction}	
\end{frame}
		%
\begin{frame}\frametitle{Radar Cross Section: Discussion}
	\begin{itemize}
		\item Radar cross section is a {\bl{far field}} phenomenon
		\item Assumes {\bl{single polarization}} to and from target
		\item Target is {\bl{completely metallic}}: \\$E$ field results from surface currents
		\item Shape is {\bl{quasi-dimensional}}
			\begin{itemize}
				\item Dimensions in two known directions
				\item Dish antennae, solar panels, booms
			\end{itemize}
		\item {\bl{Resonant scattering}}: \\Ratio of typical dimension to wavelength $\approx$ 1 
		\item \cite[\S 4.6]{kolosov1987}
	\end{itemize}	
\end{frame}

\begin{frame}{Radar Cross Section: Conceptual Overview}
    \small
    \begin{itemize}
        \item \textcolor{blue}{Radar Basics:}
            \begin{itemize}
                \item Transmit energy (\cite[p. 21]{skolnik1962introduction}).
                \item Receive scattered signal.
                \item Direction, strength → object properties (\cite[p. 45]{knott2004radar}).
            \end{itemize}
        \item \textcolor{blue}{What is RCS?}
            \begin{itemize}
                \item Measures object ``visibility'' to radar \cite[Section 2]{cite-trcs}.
                \item Depends on:  
                    \begin{itemize}
                        \item Material  
                        \item Geometry  
                        \item Orientation (\cite[pp. 3-4]{peebles2007radar}).
                    \end{itemize}
            \end{itemize}
        \item \textcolor{blue}{Key Question:}
            Power reflected vs. power transmitted.
    \end{itemize}
\end{frame}

%\begin{frame}{Factors Influencing Radar Cross Section}
%    \small
%    \begin{itemize}
%        \item \textcolor{blue}{Shape:}
%            \begin{itemize}
%                \item Smooth → directional reflection (\cite[p. 47]{knott2004radar}).
%                \item Complex → scattered energy.
%            \end{itemize}
%        \item \textcolor{blue}{Material:}
%            \begin{itemize}
%                \item Metal → strong reflection.
%                \item Absorbers → reduced RCS (\cite[Section 3.2]{knott2004radar}).
%            \end{itemize}
%        \item \textcolor{blue}{Size vs. Wavelength:}
%            \begin{itemize}
%                \item Large → high scattering.
%                \item Small → "invisible" (Rayleigh scattering) (\cite[p. 188]{kolosov1987}).
%            \end{itemize}
%        \item \textcolor{blue}{Orientation:}
%            \begin{itemize}
%                \item Aligned → max RCS (\cite[Eq. 2.1]{knott2004radar}).
%                \item Tilted → min RCS (\cite[p. 22]{skolnik1962introduction}).
%            \end{itemize}
%        \item \textcolor{blue}{Radar Parameters:}
%            \begin{itemize}
%                \item Frequency, polarization, incidence angle (\cite[p. 45]{cite-trcs}).
%            \end{itemize}
%    \end{itemize}
%\end{frame}

\begin{frame}{Factors Influencing Radar Cross Section (1/2)}
    \small
    \begin{itemize}
        \item \textcolor{blue}{Shape:}
            \begin{itemize}
                \item Smooth → directional reflection (\cite[p. 47]{knott2004radar}).
                \item Complex → scattered energy.
            \end{itemize}
        \item \textcolor{blue}{Material:}
            \begin{itemize}
                \item Metal → strong reflection.
                \item Absorbers → reduced RCS (\cite[Section 3.2]{knott2004radar}).
            \end{itemize}
        \item \textcolor{blue}{Size vs. Wavelength:}
            \begin{itemize}
                \item Large → high scattering.
                \item Small → "invisible" (Rayleigh scattering) (\cite[p. 188]{kolosov1987}).
            \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}{Factors Influencing Radar Cross Section (2/2)}
    \small
    \begin{itemize}
        \item \textcolor{blue}{Orientation:}
            \begin{itemize}
                \item Aligned → max RCS (\cite[Eq. 2.1]{knott2004radar}).
                \item Tilted → min RCS (\cite[p. 22]{skolnik1962introduction}).
            \end{itemize}
        \item \textcolor{blue}{Radar Parameters:}
            \begin{itemize}
                \item Frequency, polarization, incidence angle (\cite[p. 45]{cite-trcs}).
            \end{itemize}
    \end{itemize}
\end{frame}

%     %     %     %     %     %     %     %     %
\subsection{Simulation Using Mercury MoM}
% Slide 2: What is Mercury MoM?
\begin{frame}{What is Mercury Method of Moments (MoM)?}
    \begin{itemize}
        \item Mercury MoM solves Maxwell's equations in integral form.
        \item Targets: 
            \begin{itemize}
                \item Perfect Electric Conductors (PECs).
                \item Far-field monostatic radar configurations.
            \end{itemize}
        \item Applications:
            \begin{itemize}
                \item Electromagnetic scattering simulations.
                \item Radar Cross Section (RCS) analysis.
            \end{itemize}
        \item Benefits:
            \begin{itemize}
                \item Standalone Linux execution.
                \item Minimal dependencies.
                \item Accurate surface-based integral solutions.
            \end{itemize}
    \end{itemize}
\end{frame}

% Slide 3: Setup Workflow
\begin{frame}{Mercury MoM Setup Workflow}
    \begin{enumerate}
        \item \textbf{Model Geometry}:
            \begin{itemize}
                \item Create CAD model using \texttt{FreeCAD}.
                \item Export mesh as \texttt{*.obj} file.
            \end{itemize}
        \item \textbf{Convert Mesh}:
            \begin{itemize}
                \item Use Python tool to convert \texttt{*.obj} to \texttt{*.facet}.
            \end{itemize}
        \item \textbf{Prepare Input Files}:
            \begin{itemize}
                \item \texttt{B-20.geo} (Simulation control).
                \item \texttt{B-20.facet} (Geometry).
                \item \texttt{Materials.lib} (Material properties).
            \end{itemize}
        \item \textbf{Run Simulation}:
            \begin{itemize}
                \item Extract tarball and execute with bash scripts.
            \end{itemize}
    \end{enumerate}
\end{frame}

% Slide 4: Key Input Files
%\begin{frame}{Using Mercury MoM - Terminal Commands}
%    \centering
%    % Code listing styled like a terminal
%    \lstset{style=terminal}
%    \begin{lstlisting}
%    $ mom --file B-20.geo ## Run Mercury MoM with input file
%    > Input: B-20.geo
%    > Processing mesh...
%    > Sealing mesh...
%    > Configuring solver for frequency range...
%    > Solver complete: Results saved to B-20-output.txt
%    \end{lstlisting}
%    \vspace{0.5em}
%    \begin{itemize}
%        \item \textbf{Input File:} \texttt{B-20.geo} provides mesh configuration, solver details, and radar parameters.
%        \item \textbf{Processing:} Mesh is verified and sealed, ready for computation.
%        \item \textbf{Output:} Results saved to \texttt{B-20-output.txt}.
%    \end{itemize}
%\end{frame}

% Slide 5: Execution Steps
\begin{frame}{Running Mercury MoM Simulations}
    \begin{itemize}
        \item Extract the Mercury MoM package:
        \begin{tcolorbox}[colback=mygray, colframe=blue!50, sharp corners]
        \texttt{tar -xvf Hg-MoM-4.1.12.tar.gz}
        \end{tcolorbox}

        \item Run the example bash script:
        \begin{tcolorbox}[colback=mygray, colframe=blue!50, sharp corners]
        \texttt{./run\_mom\_example.sh}
        \end{tcolorbox}

        \item Simulation:
            \begin{itemize}
                \item Reads input files (\texttt{*.geo}, \texttt{*.facet}, \texttt{*.lib}).
                \item Configures radar frequency, sampling angles, and conditions.
            \end{itemize}

        \item Outputs:
            \begin{itemize}
                \item Results saved in output directories.
                \item Files named after input stems (e.g., \texttt{B-20\_results}).
            \end{itemize}
    \end{itemize}
\end{frame}

% Slide 6: Key Notes
\begin{frame}{Key Notes}
    \begin{itemize}
        \item \textbf{System Requirements:}
            \begin{itemize}
                \item Linux environment.
                \item Minimal dependencies (e.g., \texttt{libpthread}, \texttt{libc}).
            \end{itemize}
        \item \textbf{Radar Parameters:}
            \begin{itemize}
                \item Frequency range: 3–30 MHz.
                \item Azimuth cuts and sampling.
            \end{itemize}
        \item \textbf{Applications:}
            \begin{itemize}
                \item Analyze far-field scattering patterns.
                \item Perform monostatic radar cross-section simulations.
            \end{itemize}
    \end{itemize}
\end{frame}

% Slide 7: Summary
\begin{frame}{Summary: How to Use Mercury MoM}
    \begin{enumerate}
        \item Model CAD geometry in \texttt{FreeCAD}.
        \item Convert mesh to \texttt{*.facet}.
        \item Prepare input files (\texttt{geo}, \texttt{facet}, \texttt{lib}).
        \item Extract and execute Mercury MoM package.
        \item Analyze results.
    \end{enumerate}
    \vspace{1em}
    \centering
    \textit{Mercury MoM: Accurate, reliable, and ready for PEC far-field radar simulations.}
\end{frame}
	
%     %     %     %     %     %     %     %     %
\subsection{Configuring Mercury MoM}

%\begin{frame}
%	\frametitle{Input files}
%	\begin{enumerate}
%			%
%		\item \texttt{B-20.geo}
%		\begin{enumerate}
%			\item Points to facet file
%			\item Configure linear algebra solver
%			\item Radar frequency range
%			\item Angular sampling ranges
%			\item Boundary conditions
%			\item Mono-- or Bistatic
%			\item Surface or Volume integral elements
%			\item Length units
%		\end{enumerate}
%			%
%		\item \texttt{B-20.facet}
%		\begin{enumerate}
%			\item Vertex list
%			\item Face list 
%		\end{enumerate}
%			%
%		\item \texttt{Materials.lib}
%		\begin{enumerate}
%			\item Permiability
%			\item Permittivity
%		\end{enumerate}
%			%
%	\end{enumerate}
%\end{frame}

\begin{frame}{Input Files (1/2)}
    \begin{enumerate}
        \item \texttt{B-20.geo}
        \begin{enumerate}
            \item Points to facet file
            \item Configure linear algebra solver
            \item Radar frequency range
            \item Angular sampling ranges
            \item Boundary conditions
            \item Mono-- or Bistatic
            \item Surface or Volume integral elements
            \item Length units
        \end{enumerate}
    \end{enumerate}
\end{frame}

\begin{frame}{Input Files (2/2)}
    \begin{enumerate}
        \setcounter{enumi}{1} % Start enumeration at item 2
        \item \texttt{B-20.facet}
        \begin{enumerate}
            \item Vertex list
            \item Face list 
        \end{enumerate}
        \item \texttt{Materials.lib}
        \begin{enumerate}
            \item Permiability
            \item Permittivity
        \end{enumerate}
    \end{enumerate}
\end{frame}

%\begin{frame}
%	\frametitle{Input files}
%	\begin{enumerate}
%			%
%		\item \texttt{B-20.geo}
%		\begin{enumerate}
%			\item Points to facet file
%			\item Configure linear algebra solver
%			\item Radar frequency range
%			\item Angular sampling ranges
%			\item Boundary conditions
%			\item Mono-- or Bistatic
%			\item Surface or Volume integral elements
%			\item Length units
%		\end{enumerate}
%	\end{enumerate}
%\end{frame}
%
%\begin{frame}
%	\frametitle{Input files}
%	\begin{enumerate}[resume*]
%			%
%		\item \texttt{B-20.facet}
%		\begin{enumerate}
%			\item Vertex list
%			\item Face list 
%		\end{enumerate}
%			%
%		\item \texttt{Materials.lib}
%		\begin{enumerate}
%			\item Permiability
%			\item Permittivity
%		\end{enumerate}
%			%
%	\end{enumerate}
%\end{frame}

\myFrame{Linear algebra (don't alter)}{\footnotesize{
\begin{table}[htp]
	\begin{center}
		\begin{tabular}{ll}
			\scry{\&MM\_MOM} \\
			\scrg{  bUseACA = .TRUE.,} & \scrg{  nFillThreads = -1,} \\
			\scrg{  bSolve\_ACA = .TRUE.,} & \scrg{  nFillMKLThreads = 1,} \\
			\scrg{  bOutOfCore = .TRUE.,} & \scrg{  nLUThreads = -1,} \\
			\scrg{  bNormalizeToWaveLength = .FALSE.,} & \scrg{  nLUMKLThreads = 1,} \\
			\scrg{  bNormalize             = .FALSE.,} & \scrg{  nRHSThreads = 1,} \\
			\scrg{  dCloseLambda  = 0.100000,} & \scrg{  nRHSMKLThreads = 1,} \\
			\scrg{  ACA\_Factor\_Tol = 0.000010,} & \scrg{  bOutputACAGrouping     = .FALSE.,} \\
			\scrg{  ACA\_RHS\_Tol = 0.000100,} & \scrg{  bOutputRankFraction    = .FALSE.,} \\
			\scrg{  Point\_Tolerance = 0.001000,} & \scrg{  bLimitLUColumns        = .FALSE.,} \\
			\scrg{  nLargestBlockSize = -1,} & \scrg{  Lop\_Admissibility = WEAK,} \\
			\scrg{  MemorySize\_GB = -1.000000,} & \scrg{  Kop\_Admissibility = CLOSE} \\
			\scrg{  stackSize\_GB = -1.000000,} &  \\
		\end{tabular}
	\end{center}
\end{table}
}}

\myFrame{Memory management (don't alter)}{\footnotesize{
	\scry{\&Scratch\_Memory} \\
	\scrg{  Scratch\_RankFraction\_Z     = 0.300000,} \\
	\scrg{  Scratch\_RankFraction\_LU    = 0.600000,} \\
	\scrg{  Scratch\_RankFraction\_RHS   = 2.000000,} \\
	\scrg{  Scratch\_RankFraction\_Solve = 1.000000,} \\
	\scrg{  MemoryFraction\_Z           = 0.950000,} \\
	\scrg{  MemoryFraction\_Scratch\_LU  = 0.500000,} \\
	\scrg{  MemoryFraction\_LU          = 1.000000,} \\
	\scrg{  MemoryFraction\_RHS         = 0.500000,} \\
	\scrg{  MemoryFraction\_Solve       = 0.900000,}  \\
}}

\myFrame{Quadrature (don't alter)}{\footnotesize{
	\scry{\&QUADRATURE} \\
	\scrg{  NTRISELF    = 7,} \\
	\scrg{ NTRINEAR    = 3,} \\
	\scrg{  NTRIFAR     = 3,} \\
	\scrg{  NTETSELF    = 11,} \\
	\scrg{  NTETNEAR    = 4,} \\
	\scrg{  NTETFAR     = 4,} \\
	\scrg{  NQGAUSS  = 4}  \\
}}

\myFrame{Radar frequencies}{\footnotesize{
	\scry{FREQUENCY} \\
	\scrg{   ghz } \\
	\scrg{   0.003000  0.030000  28   }\scrz{!Freq Start, Freq Stop, Num Frequencies}
}}

\myFrame{Sampling}{\footnotesize{
	\scry{Angle Cut} \\
	\scrg{   1} \\
	\scrg{   0.000000  359.000000  360} \\
	\scrg{   AZIMUTH} \\
	\scrg{   90.000000} \\
}}

\myFrame{Monostatic or bistatic}{\footnotesize{
	\scry{Excitation} \\
	\scrg{   MONOSTATIC}
}}

\myFrame{Boundary Conditions}{\footnotesize{
	\scry{Boundary Conditions} \\
	\scrg{B-20-Materials.lib} \\
	\scrg{4} \\
	\scrg{V\_FREE\_SPACE => Free\_Space} \\
	\scrg{V\_PEC => PEC} \\
	\scrg{V\_PMC => PMC} \\
	\scrg{V\_NULL => NULL} \\
	\scrg{1} \\
	\scrg{0 BC\_PEC V\_FREE\_SPACE}
}}

\myFrame{Final settings}{\footnotesize{
	\begin{table}[htp]
		\begin{center}
			\begin{tabular}{lcl}
				\scry{SIE} & \qquad & \gr{surface integral elements} \\
				\scry{B-20A.facet} && \gr{CAD description} \\
				\scry{m} && \gr{meters} \\
			\end{tabular}
		\end{center}
\end{table}%
}}
	
%     %     %     %     %     %     %     %     %
\subsection{Running Mercury MoM}

\begin{frame}
	\frametitle{Mercury MoM is Single Precision}
	Example: $8$ MHz\\
	Despite exact binary representation \\
	$$ 8_{10} = 1000_{2}$$ \\[10pt]
	\texttt{ Start Frequency =  7.9999994E-03GHz}
\end{frame}

\myFrame{Run sequence - launch}{\tiny{
\scry{\$./MMoM\_4.1.12 b20.geo} \\	
\scrg{--------------------------------------------------------------------------------} \\
\scrg{HOSTNAME                 = 3dd5a4b0d3c8} \\
\scrg{HOSTTYPE                 =} \\
\scrg{CPU                      =} \\
\scrg{OSTYPE                   =} \\
\scrg{MACHTYPE                 =} \\
\scrg{NUMBER\_OF\_PROCESSORS     =} \\
\scrg{OMP\_NUM\_THREADS          =} \\
\scrg{PROCESSOR\_ARCHITECTURE   =} \\
\scrg{PROCESSOR\_IDENTIFIER     =} \\
\scrg{------------ Reporting output in MB from Linux command: vmstat -s -S M ------------} \\
\scrw{        53113 M free memory} \\
}}

\myFrame{Run sequence - sample output}{\tiny{
\scry{  Freq  \phantom{m} =    30.00E+00 MHz} \\
\scrg{  Lambda =     9.99E+00 m  } \\
\scrg{  k   \phantom{mmmm}   =   628.75E-03 m-1} \\
\scrg{subroutine Solve\_SetUp(  Surface, bk, pSys, pD, Nodes )  : ...Finished} \\
\scrg{--------------------------------------------------------------------------------} \\
\scrg{---| Time : Time total for RHS solve} \\
\scrg{---| Twall = 0.0004168 ; Tcpu = 0.0002319 ; Ratio =   1.80} \\
\scrg{--------------------------------------------------------------------------------} \\
\scrg{---| Out Of Core Times:  Diagonal Blocks} \\
\scrg{---|} \\
\scrg{---| nWrites.........................:          2.} \\
\scrg{---| GigaBytes Write.................:          0.} \\
\scrg{---| Write Time (Hr).................:        0.00} \\
\scrg{---| Average Write Rate (MBytes/sec).:         19.} \\
\scrg{---| nReads..........................:          5.} \\
\scrg{---| GigaBytes Read..................:          0.} \\
\scrg{---| Read Time (Hr)..................:      0.0002} \\
\scrg{---| Average Read Rate (MBytes/sec)..:         48.} \\
\scrg{---|} \\
\scrg{--------------------------------------------------------------------------------} \\
\scrg{Z Column Summary IO   0.000E+00   0.000E+00   0.000E+00   0.000E+00   0.000E+00} \\
}}

\myFrame{Run sequence - completion}{\tiny{
\scry{\$./MMoM\_4.1.12 b20.geo} \\
\scrg{--------------------------------------------------------------------------------} \\
\scrg{HOSTNAME                 = 3dd5a4b0d3c8} \\
\scrg{HOSTTYPE                 =} \\
\scrg{CPU                      =} \\
\scrg{OSTYPE                   =} \\
\scrg{MACHTYPE                 =} \\
\scrg{NUMBER\_OF\_PROCESSORS     =} \\
\scrg{OMP\_NUM\_THREADS          =} \\
\scrg{PROCESSOR\_ARCHITECTURE   =} \\
\scrg{PROCESSOR\_IDENTIFIER     =} \\
\scrg{------------ Reporting output in MB from Linux command: vmstat -s -S M ------------} \\
\scrc{        53113 M free memory} \\
}}

\endinput  %  ==  ==  ==  ==  ==  ==  ==  ==  ==
