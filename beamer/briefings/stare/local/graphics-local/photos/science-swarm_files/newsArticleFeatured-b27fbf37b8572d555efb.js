(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{421:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return _}));var n=r(3),a=r.n(n),i=r(4),s=r.n(i),l=r(7),o=r.n(l),d=r(5),u=r.n(d),c=r(16),p=r.n(c),f=r(8),h=r.n(f);function _callSuper(e,t,r){return t=u()(t),o()(e,function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function _isNativeReflectConstruct(){return!!e}()}()?Reflect.construct(t,r||[],u()(e).constructor):t.apply(e,r))}function _superPropGet(e,t,r,n){var a=p()(u()(1&n?e.prototype:e),t,r);return 2&n?function(e){return a.apply(r,e)}:a}var _=function(e){function NewsArticleFeatured(e){var t;return a()(this,NewsArticleFeatured),(t=_callSuper(this,NewsArticleFeatured)).wrapper=e,t.initialize(),t.addEventListeners(),t}return h()(NewsArticleFeatured,e),s()(NewsArticleFeatured,[{key:"selectors",get:function get(){return{scroller:".news-article__hero__scroller",scrollTarget:".news-article__hero__title",featuredWrapper:".news-article__hero--featured",featuredVideo:".news-article__hero--featured video",featuredVideoControlWrapper:".featured-video-control-wrapper",featuredVideoPlay:".featured-video-control__play",featuredVideoPause:".featured-video-control__pause",cadmorePlayer:"cmpl_bannerplayer",cadmoreBannerPlayerScript:'#bannerPlayerScript, script[src="https://play.cadmore.media/js/BannerPlayer.js"]'}}},{key:"elements",get:function get(){return{scroller:null,scrollTarget:null,featuredWrapper:null,featuredVideo:null,cadmorePlayer:null,featuredVideoControlWrapper:null,cadmoreBannerPlayerScript:null}}},{key:"featuredVideoControlHTML",get:function get(){return'<div class="featured-video-control-wrapper">\n            <button class="btn featured-video-control__play d-none" title="Play video">\n                <i class="icon-play" aria-hidden="true"></i>\n                <span class="sr-only">Play</span>\n            </button>\n            <button class="btn featured-video-control__pause" title="Pause video">\n                <i class="icon-pause" aria-hidden="true"></i>\n                <span class="sr-only">Pause</span>\n            </button>\n        </div>'}},{key:"initialize",value:function initialize(){_superPropGet(NewsArticleFeatured,"initialize",this,3)([]),this._elements=this.elements,this._elements.scroller=document.querySelector(this._selectors.scroller),this._elements.scrollTarget=document.querySelector(this._selectors.scrollTarget),this._elements.featuredWrapper=document.querySelector(this._selectors.featuredWrapper),this._elements.cadmoreBannerPlayerScript=document.querySelector(this._selectors.cadmoreBannerPlayerScript),this._elements.featuredWrapper&&(this.setFeaturedHeight(),this.initFeaturedVideo())}},{key:"addEventListeners",value:function addEventListeners(){_superPropGet(NewsArticleFeatured,"addEventListeners",this,3)([]),this._elements.scroller.addEventListener("click",this.scrollTo.bind(this))}},{key:"initFeaturedVideo",value:function initFeaturedVideo(){var e=this;if(this._elements.cadmoreBannerPlayerScript)if(this._elements.cadmorePlayer=document.getElementById(this._selectors.cadmorePlayer),this._elements.cadmorePlayer)this.initVideoControls();else{var t=setInterval((function(){e._elements.cadmorePlayer=document.getElementById(e._selectors.cadmorePlayer),e._elements.cadmorePlayer&&(e.initVideoControls(),clearInterval(t))}),500);setTimeout((function(){t&&clearInterval(t)}),5e3)}else this.initVideoControls()}},{key:"scrollTo",value:function scrollTo(){var e=this._elements.scrollTarget.getBoundingClientRect().top-128;window.scrollTo({top:e,behavior:"smooth"})}},{key:"setFeaturedHeight",value:function setFeaturedHeight(){var e,t=null===(e=this._elements.featuredWrapper)||void 0===e?void 0:e.offsetTop,r=window.innerHeight-t;r<400&&(r=400),this._elements.featuredWrapper.style.height=r+"px"}},{key:"initVideoControls",value:function initVideoControls(){this._elements.featuredVideo=document.querySelector(this._selectors.featuredVideo),this._elements.featuredVideo&&(this._elements.featuredWrapper.insertAdjacentHTML("beforeend",this.featuredVideoControlHTML),this._elements.featuredVideoPlay=this._elements.featuredWrapper.querySelector(this._selectors.featuredVideoPlay),this._elements.featuredVideoPause=this._elements.featuredWrapper.querySelector(this._selectors.featuredVideoPause),this._elements.featuredVideoPlay.addEventListener("click",this.pausePlayVideo.bind(this,"play")),this._elements.featuredVideoPause.addEventListener("click",this.pausePlayVideo.bind(this,"pause")))}},{key:"pausePlayVideo",value:function pausePlayVideo(e){var t=this._elements,r=t.featuredVideo,n=t.featuredVideoPlay,a=t.featuredVideoPause,i=r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>r.HAVE_CURRENT_DATA;"play"===e?i||(r.play(),n.classList.add("d-none"),a.classList.remove("d-none"),a.focus()):(r.pause(),a.classList.add("d-none"),n.classList.remove("d-none"),n.focus())}}])}(r(9).a)}}]);
//# sourceMappingURL=newsArticleFeatured-b27fbf37b8572d555efb.js.map