(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{435:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return h}));var p=o(3),s=o.n(p),i=o(4),n=o.n(i),u=o(7),l=o.n(u),r=o(5),a=o.n(r),c=o(16),d=o.n(c),v=o(8),y=o.n(v);function _callSuper(t,e,o){return e=a()(e),l()(t,function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return function _isNativeReflectConstruct(){return!!t}()}()?Reflect.construct(e,o||[],a()(t).constructor):e.apply(t,o))}function _superPropGet(t,e,o,p){var s=d()(a()(1&p?t.prototype:t),e,o);return 2&p?function(t){return s.apply(o,t)}:s}var h=function(t){function PopupController(t){var e,o;return s()(this,PopupController),(o=_callSuper(this,PopupController)).popups=void 0,o.popupsToDisplay=[],o.wrapper=t,o.popups=Array.from(t.querySelectorAll(o._selectors.popupItem)),o.popups&&o.popups.length>0&&o.popups.sort((function(t,e){var o,p;return(null===(o=t.dataset)||void 0===o?void 0:o.order)<(null===(p=e.dataset)||void 0===p?void 0:p.order)?-1:1})),o.isPbdesign=Boolean(null===(e=o.wrapper.dataset)||void 0===e?void 0:e.pbdesign),o.setElements(),o.initialize(),o.addEventListeners(),o}return y()(PopupController,t),n()(PopupController,[{key:"selectors",get:function get(){return{modal:"#popup-controller-modal",popupItem:".popup-controller-item"}}},{key:"elements",get:function get(){return{modal:null,popupItem:null}}},{key:"classList",get:function get(){return{DISPLAY_NONE:"d-none"}}},{key:"texts",get:function get(){return{controllerItem:"popup-controller-item"}}},{key:"cookies",get:function get(){return document.cookie}},{key:"activePopup",get:function get(){return this.popupsToDisplay[0]}},{key:"initialize",value:function initialize(){var t=this;_superPropGet(PopupController,"initialize",this,3)([]),this.isPbdesign?this.popups.forEach((function(e){t.displayPopup(e,!1)})):(this.setPopupsToDisplay(),this.popupsToDisplay&&this.popupsToDisplay.length>0&&this.displayPopup(this.activePopup,!0))}},{key:"addEventListeners",value:function addEventListeners(){var t=this;_superPropGet(PopupController,"addEventListeners",this,3)([]),$(this._elements.modal).on("hidden.bs.modal",(function(e){t.dismissPopup(t.activePopup),t.popupsToDisplay.shift(),t.popupsToDisplay.length>0&&t.displayPopup(t.activePopup,!0)}))}},{key:"setElements",value:function setElements(){this._elements.modal=this.wrapper.querySelector(this._selectors.modal)}},{key:"setPopupsToDisplay",value:function setPopupsToDisplay(){var t=this;this.popups.forEach((function(e){t.shouldDisplayPopup(e)&&t.popupsToDisplay.push(e)}))}},{key:"shouldDisplayPopup",value:function shouldDisplayPopup(t){return!this.cookies.includes(t.id)}},{key:"displayPopup",value:function displayPopup(t,e){t.classList.remove(this._classList.DISPLAY_NONE),e&&($(this._elements.modal).modal("show"),this.setCookie(t))}},{key:"dismissPopup",value:function dismissPopup(t){t.classList.add(this._classList.DISPLAY_NONE)}},{key:"setCookie",value:function setCookie(t){var e,o,p=t.getAttribute("id"),s=(null===(e=t.dataset)||void 0===e?void 0:e.delay)||0,i=null===(o=t.dataset)||void 0===o?void 0:o.order,n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3),document.cookie="".concat(this._texts.controllerItem,"-").concat(i,"=").concat(p,"; expires=").concat(n.toUTCString(),";")}}])}(o(9).a)}}]);
//# sourceMappingURL=popupController-55f473af13cec11883d9.js.map